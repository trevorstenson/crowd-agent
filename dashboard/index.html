<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CrowdPilot — Mission Control</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <div class="header-content">
      <h1><span class="prompt">&gt;</span> CrowdPilot</h1>
      <p class="tagline">An AI agent governed by the crowd</p>
    </div>
  </header>

  <main>
    <!-- Agent Status -->
    <section id="agent-status" class="card">
      <h2><span class="icon">&#9670;</span> Agent Status</h2>
      <div class="stats-grid">
        <div class="stat">
          <span class="stat-value" id="total-builds">—</span>
          <span class="stat-label">Total Builds</span>
        </div>
        <div class="stat">
          <span class="stat-value" id="success-rate">—</span>
          <span class="stat-label">Success Rate</span>
        </div>
        <div class="stat">
          <span class="stat-value" id="streak">—</span>
          <span class="stat-label">Streak</span>
        </div>
        <div class="stat">
          <span class="stat-value" id="last-build">—</span>
          <span class="stat-label">Last Build</span>
        </div>
      </div>
    </section>

    <!-- Now Building -->
    <section id="now-building" class="card hidden">
      <h2><span class="icon blink">&#9679;</span> Now Building</h2>
      <div id="building-content"></div>
    </section>

    <!-- Current Votes -->
    <section id="current-votes" class="card">
      <h2><span class="icon">&#9650;</span> Current Votes</h2>
      <p class="subtitle">Vote with &#128077; on any issue to influence what gets built next</p>
      <div id="votes-list" class="issue-list">
        <p class="loading">Loading issues...</p>
      </div>
    </section>

    <!-- Recent Builds -->
    <section id="recent-builds" class="card">
      <h2><span class="icon">&#10003;</span> Recent Builds</h2>
      <div id="builds-list" class="issue-list">
        <p class="loading">Loading builds...</p>
      </div>
    </section>

    <!-- Changelog -->
    <section id="changelog" class="card">
      <h2><span class="icon">&#9998;</span> Changelog</h2>
      <p class="subtitle">The agent's autobiography — written after each build</p>
      <div id="changelog-content">
        <p class="loading">Loading changelog...</p>
      </div>
    </section>

    <!-- The Loop -->
    <section id="the-loop" class="card">
      <h2><span class="icon">&#123;&#125;</span> The Loop</h2>
      <p class="subtitle">The agent's source code — this runs every night</p>
      <pre><code id="source-code" class="loading">Loading source...</code></pre>
    </section>

    <!-- Links -->
    <section id="links" class="card">
      <h2><span class="icon">&#8594;</span> Participate</h2>
      <div class="link-grid">
        <a href="https://github.com/trevorstenson/crowd-agent/issues/new" class="link-card" target="_blank">
          <span class="link-icon">+</span>
          <span>Submit a Feature</span>
        </a>
        <a href="https://github.com/trevorstenson/crowd-agent/blob/main/CONSTITUTION.md" class="link-card" target="_blank">
          <span class="link-icon">&#167;</span>
          <span>Constitution</span>
        </a>
        <a href="https://github.com/trevorstenson/crowd-agent" class="link-card" target="_blank">
          <span class="link-icon">&#60;/&#62;</span>
          <span>View Source</span>
        </a>
        <a href="https://github.com/trevorstenson/crowd-agent/stargazers" class="link-card" target="_blank">
          <span class="link-icon">&#9733;</span>
          <span>Star the Repo</span>
        </a>
      </div>
    </section>
  </main>

  <footer>
    <p>CrowdPilot runs nightly at midnight UTC. Built by the community, one vote at a time.</p>
  </footer>

  <script src="app.js"></script>
</body>
</html>
